# UIComponent Version 4.0 Changes

With version 4.0, UIComponent supports displaying `Component` on any `UIView`, not just `ComponentView` and `ComponentScrollView`.

For example, before 4.0, you have to create an instance of `ComponentView` to display a Component
```swift
// before version 4.0
let componentView = ComponentView()
override func viewDidLoad() {
    super.viewDidLoad()
    componentView.component = VStack {
        Text("Hello World!")
    }
    view.addSubview(componentView)
}
override func viewDidLayoutSubviews() {
    super.viewDidLayoutSubviews()
    componentView.frame = view.bounds
}
```

```swift
// after version 4.0
override func viewDidLoad() {
    super.viewDidLoad()
    view.componentEngine.component = VStack {
        Text("Hello World!")
    }
}
```

Use `view.componentEngine` to access the `component`, `animator`, `reloadData` or any other component related methods. 

The `ComponentView`, `ComponentScrollView`, and the `ComponentDisplayableView` are still supported, but deprecated in favor of using `view.componentEngine`.

There are also many other changes in the API:
* `visibleIndexes` and `visibleRenderables` are now combined into a `visibleChildren` method that returns an array of `RenderNodeChild` instead of `Renderable`. The resulting `Renderable` array is generated by the framework from the `RenderNodeChild` array.
* A new method `adjustVisibleFrame` is added to `RenderNode` to adjust the visible frame of the render node before the visibility test.
* `ComponentViewComponent` is now `ViewWrapperComponent`
* `Animator`'s methods now receive `hostingView: UIView` instead of `componentView: ComponentDisplayableView`
* The built-in enviornment value of `currentComponentView` is now named `hostingView`
* `ComponentReloadDelegate` is now `ComponentEngineReloadDelegate`
* `TappableView` is now a `UIView` subclass instead of a `ComponentView`
* `PrimaryMenu` doesn't have a `contentView` anymore. Instead, the component is rendered directly on the `PrimaryMenu` view.
